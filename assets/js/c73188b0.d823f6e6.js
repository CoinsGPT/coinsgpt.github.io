"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([["11860"],{57234:function(e,n,i){i.d(n,{Z:()=>t});let t=i.p+"assets/images/bitcoin_data_pipeline-083bc34cccd93411924337896b88770f.png"},50777:function(e,n,i){i.r(n),i.d(n,{frontMatter:()=>o,default:()=>h,contentTitle:()=>l,assets:()=>r,toc:()=>a,metadata:()=>t});var t=JSON.parse('{"id":"bitcoin/bitcoin-etl","title":"02 Stream Raw Data with ETL","description":"Here\'s a professional and concise summary of the changes introduced in commit 42dd40d to add Kafka export functionality to bitcoin-etl:","source":"@site/docs/bitcoin/bitcoin-etl.md","sourceDirName":"bitcoin","slug":"/bitcoin/bitcoin-etl","permalink":"/docs/next/bitcoin/bitcoin-etl","draft":false,"unlisted":false,"editUrl":"https://github.com/coinsgpt/coinsgpt.github.io/edit/main/website/docs/bitcoin/bitcoin-etl.md","tags":[],"version":"current","lastUpdatedBy":"Gitcoins","lastUpdatedAt":1748011035000,"frontMatter":{},"sidebar":"bitcoin","previous":{"title":"01 Bitcoin Fullnode Setup","permalink":"/docs/next/bitcoin/bitcoin-fullnode"},"next":{"title":"03 Create Kafka Topics and Consumer Groups","permalink":"/docs/next/bitcoin/kafka-setup"}}'),s=i(85893),c=i(80980);let o={},l="02 Stream Raw Data with ETL",r={},a=[{value:"Add Kafka Export to bitcoin-etl",id:"add-kafka-export-to-bitcoin-etl",level:2},{value:"Key Additions",id:"key-additions",level:2},{value:"Files Modified",id:"files-modified",level:2},{value:"Example Usage",id:"example-usage",level:2}];function d(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"02-stream-raw-data-with-etl",children:"02 Stream Raw Data with ETL"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:i(57234).Z+"",width:"1536",height:"1024"})}),"\n",(0,s.jsxs)(n.p,{children:["Here's a professional and concise summary of the changes introduced in ",(0,s.jsxs)(n.a,{href:"https://github.com/blockchain-etl/bitcoin-etl/pull/72/commits/42dd40d0255d243cc3bb9d5229b5b4087a638c37",children:["commit ",(0,s.jsx)(n.code,{children:"42dd40d"})]})," to add Kafka export functionality to ",(0,s.jsx)(n.code,{children:"bitcoin-etl"}),":"]}),"\n",(0,s.jsx)(n.h2,{id:"add-kafka-export-to-bitcoin-etl",children:"Add Kafka Export to bitcoin-etl"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Commit:"})," ",(0,s.jsx)(n.a,{href:"https://github.com/blockchain-etl/bitcoin-etl/pull/72/commits/42dd40d0255d243cc3bb9d5229b5b4087a638c37",children:(0,s.jsx)(n.code,{children:"42dd40d"})}),"\n",(0,s.jsx)(n.strong,{children:"PR:"})," ",(0,s.jsx)(n.a,{href:"https://github.com/blockchain-etl/bitcoin-etl/pull/72",children:"#72"}),"\n",(0,s.jsx)(n.strong,{children:"Author:"})," ",(0,s.jsx)(n.a,{href:"https://github.com/amitrahav",children:"@amitrahav"}),"\n",(0,s.jsx)(n.strong,{children:"Purpose:"})," Enable streaming of parsed Bitcoin data (blocks and transactions) directly to Apache Kafka topics."]}),"\n",(0,s.jsx)(n.h2,{id:"key-additions",children:"Key Additions"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["New CLI Option: ",(0,s.jsx)(n.code,{children:"--output kafka"})]})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Extends the existing ",(0,s.jsx)(n.code,{children:"stream"})," command to support Kafka as a streaming sink."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Kafka Exporter Integration"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Introduces a new ",(0,s.jsx)(n.code,{children:"KafkaItemExporter"})," class to send items to Kafka."]}),"\n",(0,s.jsxs)(n.li,{children:["Uses the ",(0,s.jsx)(n.code,{children:"confluent_kafka.Producer"})," for high-performance message delivery."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"New Arguments"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"--kafka-bootstrap-servers"}),": Comma-separated list of Kafka brokers (e.g., ",(0,s.jsx)(n.code,{children:"localhost:9092"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"--kafka-topic"}),": The Kafka topic to publish messages to."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Data Format"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Each message is serialized as a JSON string."}),"\n",(0,s.jsx)(n.li,{children:"Messages include block and transaction data parsed from Bitcoin Core via ZMQ."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Graceful Shutdown"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Ensures the Kafka producer flushes all buffered messages before exiting."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"files-modified",children:"Files Modified"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"bitcoinetl/streaming/streamer_adapter.py"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"bitcoinetl/streaming/streamer.py"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"bitcoinetl/jobs/exporters/kafka_item_exporter.py"})," ",(0,s.jsx)(n.strong,{children:"(new)"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"cli/stream.py"})," (adds new CLI options)"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"example-usage",children:"Example Usage"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/CoinsGPT/bitcoin-etl.git\n\ncd bitcoin-etl\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"python3 bitcoinetl.py stream \\ \n    -p http://username:password@localhost:8332 \\\n    --output kafka/localhost:9092 \\\n    --period-seconds 0 \\\n    -b 10 \\\n    -B 50 \\\n    --enrich true\\\n    -l last_synced_block.txt\n"})})]})}function h(e={}){let{wrapper:n}={...(0,c.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},80980:function(e,n,i){i.d(n,{Z:()=>l,a:()=>o});var t=i(67294);let s={},c=t.createContext(s);function o(e){let n=t.useContext(c);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(c.Provider,{value:n},e.children)}}}]);